<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Para Meli üíñ</title>
<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@500;700&display=swap" rel="stylesheet">
<style>
body{
  margin:0;
  padding:0;
  height:100vh;
  overflow:hidden;
  font-family: 'Dancing Script', cursive;
  color:white;
  text-align:center;
  background: linear-gradient(180deg, #1b0033, #3d003f, #000010);
  animation: fondoAnim 20s infinite alternate;
}
@keyframes fondoAnim{
  0%{background: linear-gradient(180deg, #1b0033, #3d003f, #000010);}
  50%{background: linear-gradient(180deg, #2a0044, #4d004d, #000020);}
  100%{background: linear-gradient(180deg, #1b0033, #3d003f, #000010);}
}

/* Estrellas */
.estrellas{
  position:fixed;
  width:100%;
  height:100%;
  z-index:0;
}
.estrella{
  position:absolute;
  width:2px;
  height:2px;
  background:white;
  border-radius:50%;
  animation:brillar 2s infinite alternate;
}
@keyframes brillar{
  from{opacity:0.2;}
  to{opacity:1;}
}

/* Pantalla de inicio */
#bloqueo{
  position:absolute;
  width:100%;
  height:100%;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  z-index:2;
  animation:entradaInicio 1.5s ease-out;
}
@keyframes entradaInicio{
  0%{opacity:0; transform:translateY(-50px);}
  100%{opacity:1; transform:translateY(0);}
}
input{
  padding:10px;
  border-radius:20px;
  border:none;
  text-align:center;
  font-size:16px;
}
button{
  padding:10px 20px;
  border:none;
  border-radius:20px;
  background:#ff4e88;
  color:white;
  font-weight:bold;
  margin-top:15px;
  cursor:pointer;
  box-shadow:0 0 15px #ff4e88;
  font-family: 'Dancing Script', cursive;
  transition: transform 0.2s;
}
button:hover{transform:scale(1.05);}

/* Contenido principal */
#contenido{
  display:none;
  padding-top:40px;
  z-index:2;
  position:relative;
}
h1{
  font-size:2.5em;
  text-shadow:0 0 20px #ff4e88;
  margin-bottom:20px;
  opacity:0;
  transform:translateY(-30px);
  animation:entradaH1 1s forwards;
}
@keyframes entradaH1{
  to{opacity:1; transform:translateY(0);}
}
.corazon{
  font-size:90px;
  animation:latido 1s infinite;
  cursor:pointer;
  transition: transform 0.3s, text-shadow 0.3s;
}
.corazon:hover{
  transform:scale(1.3);
  text-shadow:0 0 30px #ff4e88;
}
@keyframes latido{
  0%{transform:scale(1);}
  50%{transform:scale(1.25);}
  100%{transform:scale(1);}
}

/* Poema */
#poema{
  margin-top:20px;
  font-size:24px;
  font-style:italic;
  white-space:pre-line;
  padding:0 25px;
  line-height:1.9;
  opacity:0;
  text-shadow:0 0 8px #ff4e88;
  transition:opacity 1s ease;
}
.highlight{
  color:#ffe4e1;
  text-shadow:0 0 20px #ff4e88;
  font-weight:700;
}

/* Mensaje final */
#mensajeFinal{
  display:none;
  margin-top:25px;
  font-size:26px;
  font-weight:bold;
  animation:aparecer 3s forwards;
  text-shadow:0 0 20px #ff4e88;
  font-style:italic;
}

/* Flores y cerezos */
.flor{
  position:fixed;
  bottom:-40px;
  font-size:28px;
  animation:crecer 3s forwards;
}
@keyframes crecer{
  to{transform:translateY(-120px) rotate(360deg);opacity:1;}
}
.cerezo{
  position:fixed;
  top:-20px;
  font-size:20px;
  opacity:0.8;
  animation-name:caer;
  animation-timing-function:linear;
  animation-iteration-count:infinite;
}
@keyframes caer{
  0%{transform:translateY(0) rotate(0deg);}
  100%{transform:translateY(110vh) rotate(360deg);}
}
.botonMusica{
  margin-top:20px;
  background:#ff4e88;
  box-shadow:0 0 15px #ff4e88;
  font-size:16px;
  font-family:'Dancing Script', cursive;
}
</style>
</head>
<body>

<div class="estrellas" id="estrellas"></div>

<!-- Cerezos iniciales -->
<script>
for(let i=0;i<30;i++){
  let flor=document.createElement("div");
  flor.className="cerezo";
  flor.innerHTML="üå∏";
  flor.style.left=Math.random()*100+"vw";
  flor.style.fontSize=(15 + Math.random()*25)+"px";
  flor.style.animationDuration=(6 + Math.random()*6)+"s";
  flor.style.animationDelay=(Math.random()*5)+"s";
  document.body.appendChild(flor);
}
for(let i=0;i<15;i++){
  let flor=document.createElement("div");
  flor.className="flor";
  flor.innerHTML="üåπ";
  flor.style.left=Math.random()*100+"vw";
  flor.style.fontSize=(20 + Math.random()*15)+"px";
  flor.style.animationDuration=(4 + Math.random()*4)+"s";
  document.body.appendChild(flor);
}
</script>

<div id="bloqueo">
<h2>üîê Ingresa la contrase√±a üíñ</h2>
<input type="text" id="clave" placeholder="Escribe aqu√≠...">
<button id="btnEntrar">Entrar</button>
<p id="error"></p>
</div>

<div id="contenido">
<h1>‚ú® Feliz primer San Valent√≠n, Meli ‚ú®</h1>
<div class="corazon" id="btnCorazon">‚ù§Ô∏è</div>

<div id="poema"></div>

<div id="mensajeFinal">
Meli‚Ä¶ gracias por existir.<br>
Te amo con todo lo que soy, mi reina. üíå
</div>

<br>

<audio id="musica" preload="auto">
<source src="meli.mp3" type="audio/mpeg">
</audio>

<button class="botonMusica" onclick="reproducirMusica()">üéµ Escuchar nuestra canci√≥n</button>
</div>

<script>
// estrellas din√°micas
for(let i=0;i<120;i++){
  let estrella=document.createElement("div");
  estrella.className="estrella";
  estrella.style.left=Math.random()*100+"vw";
  estrella.style.top=Math.random()*100+"vh";
  estrella.style.animationDuration=(Math.random()*3+2)+"s";
  document.getElementById("estrellas").appendChild(estrella);
}

// contrase√±a
document.getElementById("btnEntrar").addEventListener("click", function(){
  let clave=document.getElementById("clave").value.trim().toLowerCase();
  if(clave.includes("te amo")){
    document.getElementById("bloqueo").style.display="none";
    document.getElementById("contenido").style.display="block";
  }else{
    document.getElementById("error").innerHTML="‚ùå Pista: son dos palabras que laten üíï";
  }
});

// poema palabra por palabra (por oraci√≥n)
let texto = [
  "Meli‚Ä¶ üå∏\n\n",
  "Hoy celebramos nuestro primer San Valent√≠n juntos,\n",
  "y mi coraz√≥n no deja de sonre√≠r.\n",
  "Cada juego, cada risa, cada mensaje tuyo\n",
  "me hace sentir m√°s cerca de ti.\n\n",
  "Me encanta escuchar tu voz, imaginar tus gestos,\n",
  "y cada palabra tuya se queda en mi coraz√≥n.\n\n",
  "Tus emojis y bromas me hacen re√≠r sin parar,\n",
  "me pierdo en cada instante que compartimos,\n",
  "y siento que todo es m√°s brillante a tu lado.\n\n",
  "Eres mi alegr√≠a, mi pensamiento favorito,\n",
  "mi dulce compa√±√≠a, mi raz√≥n de sonre√≠r.\n\n",
  "Gracias por cada momento que vivimos,\n",
  "prometo que esto es solo el inicio\n",
  "de muchos San Valentines m√°s juntos.\n\n",
  "Siempre t√∫‚Ä¶ mi dulce Meli. üíñ"
];
let highlightWords = ["Meli","San Valent√≠n","alegr√≠a","dulce","Siempre t√∫"];

document.getElementById("btnCorazon").addEventListener("click",function(){escribir();});

function escribir(){
  let poema=document.getElementById("poema");
  poema.innerHTML="";
  poema.style.opacity=1;
  let i=0;

  function escribirOracion(){
    if(i>=texto.length){finalRomantico(); return;}
    let linea=texto[i];
    highlightWords.forEach(word=>{
      let regex=new RegExp(word,"g");
      linea=linea.replace(regex,`<span class="highlight">${word}</span>`);
    });
    poema.innerHTML+=linea;
    i++;
    setTimeout(escribirOracion,2000); // 2s por oraci√≥n, lectura c√≥moda
  }
  escribirOracion();
}

// m√∫sica
function reproducirMusica(){
  let audio=document.getElementById("musica");
  audio.play().catch(function(error){alert("Toca nuevamente el bot√≥n para activar la m√∫sica üíï");});
}

// final rom√°ntico extra
function finalRomantico(){
  document.getElementById("mensajeFinal").style.display="block";
  let musica=document.getElementById("musica");
  let duracion=musica.duration || 5;

  for(let i=0;i<20;i++){
    let flor=document.createElement("div");
    flor.className="cerezo";
    flor.innerHTML="üå∏";
    flor.style.left=Math.random()*100+"vw";
    flor.style.fontSize=(15 + Math.random()*25)+"px";
    flor.style.animationDuration=(4 + Math.random()*5)+"s";
    flor.style.animationDelay=(Math.random()*duracion*Math.random())+"s";
    document.body.appendChild(flor);
  }
  for(let i=0;i<15;i++){
    let flor=document.createElement("div");
    flor.className="flor";
    flor.innerHTML="üåπ";
    flor.style.left=Math.random()*100+"vw";
    flor.style.fontSize=(20 + Math.random()*15)+"px";
    flor.style.animationDuration=(3 + Math.random()*3)+"s";
    document.body.appendChild(flor);
  }
}
</script>
</body>
</html>
